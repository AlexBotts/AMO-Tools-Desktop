<div class="w-100 p-2">
  <span class="fa fa-bar-chart grid-toggle-button" (click)="toggleGrid()"></span>
  <div class="w-100" #specificSpeedLine id="plotlyDiv"></div>
</div>

<div class="d-flex flex-column mx-2 my-2 p-2 scroll-item data-summary">
  <label class="group-label bold">Data Summary</label>
  <table class="table pt-2 d-flex">
    <tbody class="w-100">
      <tr class="bold small text-center no-border">
        <th class="bold w-25">Key</th>
        <th class="bold w-25">Specific Speed</th>
        <th class="bold w-25">Efficiency Correction (%)</th>
        <th class="bold w-25"></th>
      </tr>
      <tr *ngFor="let point of selectedDataPoints; let index = index">
        <td class="text-center">
          <div class="point-key-circle" [ngStyle]="{'background': point.pointColor}"></div>
        </td>
        <td class="text-center">{{point.pointX}}</td>
        <td class="text-center">{{point.pointY}}</td>
        <td class='delete-row text-center'>
          <a *ngIf="!validCurrentSpeed || index != 0" class="click-link m-2 text-danger" (click)="deleteDataPoint(point)">
            Delete
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Hidden copy table -->
<app-exportable-results-table [tableString]="dataSummaryTableString"
  (updateTableString)="updateTableString()"></app-exportable-results-table>
<div class="hidden-copy-table">
  <label class="group-label bold">Data Summary</label>
  <table #dataSummaryTable class="table pt-2 d-flex">
    <tbody class="w-100">
      <tr class="bold small text-center no-border">
        <th class="bold w-25">Specific Speed</th>
        <th class="bold w-25">Efficiency Correction (%)</th>
      </tr>
      <tr *ngFor="let point of selectedDataPoints; let index = index">
        <td class="text-center">{{point.pointX}}</td>
        <td class="text-center">{{point.pointY}}</td>
      </tr>
    </tbody>
  </table>
</div>