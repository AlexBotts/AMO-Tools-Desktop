<div class="d-flex flex-column">
  <div class="header mr-2 ml-2">
    <h3>
      Input Plane Data</h3>
  </div>

  <div class="pl-3 pr-3 pt-2 flex-column">
    <nav class="text-center data-steps">
      <ul class="tabs subtabs progress-tabs fsat">
        <li [ngClass]="{'active': planeStep == 'plane-info'}">
          <a (click)="changePlaneStepTab('plane-info')">
            <span class="step-number">
              <i class="fa fa-info"></i>
            </span>
          </a>
        </li>
        <li [ngClass]="{'active': planeStep == '1'}">
          <a (click)="changePlaneStepTab('1')">
            <span class="step-number">1</span>
          </a>
        </li>
        <li [ngClass]="{'active': planeStep == '2'}">
          <a (click)="changePlaneStepTab('2')">
            <span class="step-number">2</span>
          </a>
        </li>
        <li [ngClass]="{'active': planeStep == '3a'}">
          <a (click)="changePlaneStepTab('3a')">
            <span class="step-number">3a</span>
          </a>
        </li>
        <li *ngIf="fanRatedInfo.traversePlanes > 1" [ngClass]="{'active': planeStep == '3b'}">
          <a (click)="changePlaneStepTab('3b')">
            <span class="step-number">3b</span>
          </a>
        </li>
        <li *ngIf="fanRatedInfo.traversePlanes > 2" [ngClass]="{'active': planeStep == '3c'}">
          <a (click)="changePlaneStepTab('3c')">
            <span class="step-number">3c</span>
          </a>
        </li>
        <li [ngClass]="{'active': planeStep == '4'}">
          <a (click)="changePlaneStepTab('4')">
            <span class="step-number">4</span>
          </a>
        </li>
        <li [ngClass]="{'active': planeStep == '5'}">
          <a (click)="changePlaneStepTab('5')">
            <span class="step-number">5</span>
          </a>
        </li>
      </ul>
    </nav>
    <div class="pt-1 pb-3">
      <!-- plane info -->
      <app-plane-info-form *ngIf="planeStep == 'plane-info'" [planeData]="planeData" (emitSave)="savePlaneData($event)"
        [settings]="settings" (emitChangeField)="changeField($event)">
      </app-plane-info-form>
      <!--1-->
      <app-fan-data-form *ngIf="planeStep == '1'" [planeNum]="'1'" [planeDescription]="'Fan Inlet Flange'"
        [planeData]="planeData.FanInletFlange" (emitSave)="savePlane($event, '1')" [settings]="settings"
        (emitChangeField)="changeField($event)">
      </app-fan-data-form>
      <!--
      <app-fan-data-form *ngIf="planeStep == '2'" [toggleResetData]="toggleResetData" [planeNum]="'2'"
        [planeDescription]="'Fan or Evase Outlet Flange'" [planeData]="planeData.FanEvaseOrOutletFlange"
        (emitSave)="savePlane($event, '2')" [settings]="settings" (emitChangeField)="changeField($event)">
      </app-fan-data-form> -->
      <!--3a-->
      <!-- <app-fan-data-form *ngIf="planeStep == '3a'" [toggleResetData]="toggleResetData" [planeNum]="'3a'"
        [planeDescription]="'Additional Traverse Plane 1'" [planeData]="planeData.FlowTraverse"
        (emitSave)="savePlane($event, '3a')" [velocityData]="velocityData" [settings]="settings"
        (emitChangeField)="changeField($event)"></app-fan-data-form>
      <app-plane-3-form *ngIf="planeStep == '3a'" [toggleResetData]="toggleResetData" [planeData]="planeData.FlowTraverse"
        (emitSave)="savePlane($event, '3a')" (showReadingsForm)="toggleReadings()"
        (emitChangeField)="changeField($event)"></app-plane-3-form> -->
      <!--3b-->
      <!-- <app-fan-data-form *ngIf="planeStep == '3b'" [toggleResetData]="toggleResetData" [planeNum]="'3b'"
        [planeDescription]="'Additional Traverse Plane 2'" [planeData]="planeData.AddlTraversePlanes[0]"
        (emitSave)="savePlane($event, '3b')" [velocityData]="velocityData" [settings]="settings"
        (emitChangeField)="changeField($event)"></app-fan-data-form>
      <app-plane-3-form *ngIf="planeStep == '3b'" [toggleResetData]="toggleResetData"
        [planeData]="planeData.AddlTraversePlanes[0]" (emitSave)="saveTraversePlane($event, '3b')"
        (showReadingsForm)="toggleReadings()" (emitChangeField)="changeField($event)"></app-plane-3-form> -->
      <!--3c-->
      <!-- <app-fan-data-form *ngIf="planeStep == '3c'" [toggleResetData]="toggleResetData" [planeNum]="'3c'"
        [planeDescription]="'Additional Traverse Plane 3'" [planeData]="planeData.AddlTraversePlanes[1]"
        (emitSave)="saveTraversePlane($event, '3c')" [velocityData]="velocityData" [settings]="settings"
        (emitChangeField)="changeField($event)"></app-fan-data-form>
      <app-plane-3-form *ngIf="planeStep == '3c'" [toggleResetData]="toggleResetData"
        [planeData]="planeData.AddlTraversePlanes[1]" (emitSave)="savePlane($event, '3b')"
        (showReadingsForm)="toggleReadings()" (emitChangeField)="changeField($event)"></app-plane-3-form> -->
      <!--4-->
      <!-- <app-fan-data-form *ngIf="planeStep == '4'" [toggleResetData]="toggleResetData" [planeNum]="'4'"
        [planeDescription]="'Inlet Measurement Plane'" [planeData]="planeData.InletMstPlane"
        (emitSave)="savePlane($event, '4')" [settings]="settings" (emitChangeField)="changeField($event)">
      </app-fan-data-form> -->
      <!--5-->
      <!-- <app-fan-data-form *ngIf="planeStep == '5'" [toggleResetData]="toggleResetData" [planeNum]="'5'"
        [planeDescription]="'Outlet Measurement Plane'" [planeData]="planeData.OutletMstPlane"
        (emitSave)="savePlane($event, '5')" [settings]="settings" (emitChangeField)="changeField($event)">
      </app-fan-data-form>
    </div>
    <div class="p-0" *ngIf="showReadings">
      <app-pressure-readings-form *ngIf="planeStep == '3a'" [toggleResetData]="toggleResetData"
        [planeData]="planeData.FlowTraverse" (emitSave)="savePlane($event, '3a')" (emitBack)="toggleReadings()">
      </app-pressure-readings-form>
      <app-pressure-readings-form *ngIf="planeStep == '3b'" [toggleResetData]="toggleResetData"
        [planeData]="planeData.AddlTraversePlanes[0]" (emitSave)="savePlane($event, '3b')"
        (emitBack)="toggleReadings()"></app-pressure-readings-form>
      <app-pressure-readings-form *ngIf="planeStep == '3c'" [toggleResetData]="toggleResetData"
        [planeData]="planeData.AddlTraversePlanes[1]" (emitSave)="savePlane($event, '3c')"
        (emitBack)="toggleReadings()"></app-pressure-readings-form>
    </div> -->
    </div>
  </div>