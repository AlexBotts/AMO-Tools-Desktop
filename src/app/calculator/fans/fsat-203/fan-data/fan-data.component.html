<div class="row">
  <div class="col-12">
    <label class="group-label">
      <span class="step-number">3</span>Input Plane Data
      <span class="fa fa-exclamation-circle pull-right" *ngIf="!planeDataDone"></span>
      <span class="fa fa-check-square-o pull-right" *ngIf="planeDataDone"></span>
    </label>
  </div>
  <div class="col">
    <img class="img-fluid mx-auto d-block" aria-describedby="fanDiagram" src="assets/images/fan-diagram-case-1.png">
  </div>
</div>
<div class="row">
  <div class="col">
    <nav class="hide-print text-center data-steps">
      <ul class="tabs subtabs progress-tabs fsat">
        <li [ngClass]="{'active': stepTab == '1', 'step-error': !plane1Done}">
          <a (click)="changeStepTab('1')">
            <span class="step-number">1</span>
          </a>
        </li>
        <li [ngClass]="{'active': stepTab == '2', 'step-error': !plane2Done}">
          <a (click)="changeStepTab('2')">
            <span class="step-number">2</span>
          </a>
        </li>
        <li [ngClass]="{'active': stepTab == '3a', 'step-error': !plane3aDone}">
          <a (click)="changeStepTab('3a')">
            <span class="step-number">3a</span>
          </a>
        </li>
        <li [ngClass]="{'active': stepTab == '3b', 'step-error': !plane3bDone}">
          <a (click)="changeStepTab('3b')">
            <span class="step-number">3b</span>
          </a>
        </li>
        <li [ngClass]="{'active': stepTab == '4', 'step-error': !plane4Done}">
          <a (click)="changeStepTab('4')">
            <span class="step-number">4</span>
          </a>
        </li>
        <li [ngClass]="{'active': stepTab == '5', 'step-error': !plane5Done}">
          <a (click)="changeStepTab('5')">
            <span class="step-number">5</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<div class="row">
  <div class="col" *ngIf="!showReadings">
    <app-fan-data-form *ngIf="stepTab == '1'" [planeNum]="'1'" [planeDescription]="'Fan Inlet Flange'" [planeData]="planeData.FanInletFlange"
      (emitSave)="savePlane($event, '1')"></app-fan-data-form>
    <app-fan-data-form *ngIf="stepTab == '2'" [planeNum]="'2'" [planeDescription]="'Fan or Evase Outlet Flange'" [planeData]="planeData.FanEvaseOrOutletFlange"
      (emitSave)="savePlane($event, '2')"></app-fan-data-form>
    <app-fan-data-form *ngIf="stepTab == '3a'" [planeNum]="'3a'" [planeDescription]="'Additional Traverse Plane 1'" [planeData]="planeData.FlowTraverse"
      (emitSave)="savePlane($event, '3a')"></app-fan-data-form>
    <app-fan-data-form *ngIf="stepTab == '3b'" [planeNum]="'3b'" [planeDescription]="'Additional Traverse Plane 2'" [planeData]="planeData.AddlTraversePlanes[0]"
      (emitSave)="savePlane($event, '3b')"></app-fan-data-form>
    <app-plane-3-form *ngIf="stepTab == '3a'" [planeData]="planeData.FlowTraverse" (emitSave)="savePlane($event, '3a')" (showReadingsForm)="toggleReadings()"></app-plane-3-form>
    <app-plane-3-form *ngIf="stepTab == '3b'" [planeData]="planeData.AddlTraversePlanes[0]" (emitSave)="savePlane($event, '3b')"
      (showReadingsForm)="toggleReadings()"></app-plane-3-form>
    <app-fan-data-form *ngIf="stepTab == '4'" [planeNum]="'4'" [planeDescription]="'Inlet Measurement Plane'" [planeData]="planeData.InletMstPlane" (emitSave)="savePlane($event, '4')"></app-fan-data-form>
    <app-fan-data-form *ngIf="stepTab == '5'" [planeNum]="'5'" [planeDescription]="'Outlet Measurement Plane'" [planeData]="planeData.OutletMstPlane" (emitSave)="savePlane($event, '5')"></app-fan-data-form>
  </div>
  <div class="col" *ngIf="showReadings">
    <app-pressure-readings-form *ngIf="stepTab == '3a'" [planeData]="planeData.FlowTraverse" (emitSave)="savePlane($event, '3a')"
      (emitBack)="toggleReadings()"></app-pressure-readings-form>
    <app-pressure-readings-form *ngIf="stepTab == '3b'" [planeData]="planeData.AddlTraversePlanes[0]" (emitSave)="savePlane($event, '3b')"
      (emitBack)="toggleReadings()"></app-pressure-readings-form>
  </div>
</div>