<div *ngIf="export">
  <div class="export-content scroll-item">
    <ul>
      <li *ngIf="showCalcs">
        <span class="bold">Pre-Assessments</span>
        <ul>
          <li *ngFor="let calculator of exportData.calculators">
            <span class="fa fa-pie-chart"></span>
            {{calculator.name}}
          </li>
        </ul>
      </li>
      <li *ngIf="noDirAssessmentItems.length != 0">
        <span class="bold">Assessments</span>
        <ul>
          <li *ngFor="let assessmentItem of noDirAssessmentItems">
            <img *ngIf="assessmentItem.assessment.type == 'PHAST'" class="icon-image" src="assets/images/ico-phast-diagram-small.png">
            <img *ngIf="assessmentItem.assessment.type == 'PSAT'" class="icon-image" src="assets/images/ico-psat-diagram-small.png"> {{assessmentItem.assessment.name}}
          </li>
        </ul>
      </li>
      <li *ngIf="showDirs">
        <span class="bold">Directories</span>
        <ul>
          <li *ngFor="let dirItem of exportData.directories">
            <span class="fa fa-folder p-1"></span>{{dirItem.directory.name}}
            <ul>
              <li *ngFor="let assessmentItem of getDirAssessments(dirItem.directory.id)">
                <img *ngIf="assessmentItem.assessment.type == 'PHAST'" class="icon-image" src="assets/images/ico-phast-diagram-small.png">
                <img *ngIf="assessmentItem.assessment.type == 'PSAT'" class="icon-image" src="assets/images/ico-psat-diagram-small.png"> {{assessmentItem.assessment.name}}
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="row card-footer">
    <div *ngIf="!canExport" class="col-12">
      <p class="text-center small danger">Too much data to export, please choose less data to export.</p>
    </div>
    <div class="col-12">
      <label id=name-export> Name your file: <input type="text" [(ngModel)]="name">  </label>
      <button class="btn btn-primary pull-right" [disabled]="!canExport" (click)="buildExportJSON()">Export as .json</button>
      <button class="btn btn-secondary pull-left" (click)="cancel()">Cancel</button>
    </div>
  </div>
</div>

<div *ngIf="import">
  <div class="row pb-3">
    <div class="col-12 form-group">
      <input type="file" class="form-control-file" (change)="setImportFile($event)">
      <span class="alert-danger small" *ngIf="validFile == false">Invalid File Type - Must have a .json file extension</span>
    </div>
  </div>
  <div class="row card-footer" style="padding-top: 15px;">
    <div class="col-12">
      <button [disabled]="validFile !== true" class="btn btn-primary pull-right" (click)="importFile()">Import</button>
      <button class="btn btn-secondary pull-left" (click)="cancel()">Cancel</button>
    </div>
  </div>
</div>