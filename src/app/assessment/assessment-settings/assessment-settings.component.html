<div class="row">
  <div class="col-10  mx-auto">
    <div class="tab-content content-container" *ngIf="settingsForm">
      <div class="card-form">
        <div *ngIf="directory.id != 1 && editName">
          <span>
            <input style="font-size: 30px; margin-bottom: 40px;" type="text" id="directoryName" [(ngModel)]="directory.name" onfocus="this.select();"
              required="required">
            <span class="alert-danger" *ngIf="!directory.name">Directory Name Required</span>
            <button *ngIf="directory.name" class="btn-primary btn-sm" (click)="doneEditingName()">
              <span class="fa fa-check"></span>
            </button>
          </span>
        </div>

        <h2 *ngIf="directory.id != 1 && !editName" (click)="editDirectoryName()">{{directory.name}}
          <!--<button class="btn-secondary btn-sm" (click)="editDirectoryName()"><span class="fa fa-pencil"></span></button>-->
        </h2>

        <div class="form-section">
          <label class="group-label general">General Settings</label>
          <p class="help-text">These will be default settings for all assessments and folders.</p>
          <app-application-settings [(settingsForm)]="settingsForm" [generalSettings]="true" (startSavePolling)="updateSettings(false)"></app-application-settings>
        </div>

        <div class="form-section psat">
          <label class="group-label">PSAT Settings</label>
          <p class="help-text">These settings will be used as the default settings for pump assessments inside this folder.</p>
          <app-psat-settings [(settingsForm)]="settingsForm" (startSavePolling)="updateSettings(false)"></app-psat-settings>
        </div>

        <div class="form-section phast">
          <label class="group-label">PHAST Settings</label>
          <p class="help-text">These settings will be used as the default settings for process heating assessments inside this folder.</p>
          <app-phast-settings [(settingsForm)]="settingsForm" (startSavePolling)="updateSettings(false)"></app-phast-settings>
        </div>

        <div class="reset-data" *ngIf="directory.id == 1">
          <h3>Delete Data</h3>
          <p class="help-text">Deleting data will reset your application data to it's initial state and delete everything else.</p>
          <button class="btn btn-secondary" (click)="resetData()">Delete Data</button>
        </div>

        <!--<div class="reset-data">
      <button class="btn btn-secondary" (click)="checkForUpdates()">Check for updates</button>
    </div>-->

      </div>
    </div>
  </div>
</div>
<ng2-toasty></ng2-toasty>

<div bsModal #settingsModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="settingsModal" aria-hidden="true"
  [config]="{backdrop: 'static'}">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        Settings Changed
        <button class="close" aria-label="Close" (click)="hideSettingsModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Your settings have changed. Would you like to convert assessment data to match new settings?
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary pull-right" (click)="updateSettings(true)">Yes</button>
        <button class="btn btn-danger pull-left" (click)="updateSettings(false)">No keep data</button>
      </div>
    </div>
  </div>
</div>