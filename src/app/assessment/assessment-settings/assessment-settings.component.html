<div *ngIf="settingsForm">

  <h3>{{directory.name}}: General Settings</h3>
  <p>These will be default settings for assessments and folders inside {{directory.name}}.</p>
  <app-application-settings [(settingsForm)]="settingsForm"></app-application-settings>


  <h3>{{directory.name}}: PSAT Settings</h3>
  <p>These settings will be used as the default settings for pump assessments inside {{directory.name}}.</p>
  <app-psat-settings [(settingsForm)]="settingsForm"></app-psat-settings>

  <div class="actions">
    <button class="btn btn-primary" (click)="saveSettings()">Save Settings</button>
  </div>


  <div class="reset-data" *ngIf="directory.id == 1">
    <h3>Delete Data</h3>
    <p>Deleting data will reset your application data to it's initial state and delete everything else.</p>
    <button class="btn btn-secondary" (click)="resetData()">Delete Data</button>
  </div>


</div>

<ng2-toasty></ng2-toasty>

<div bsModal #settingsModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="settingsModal" aria-hidden="true"
  [config]="{backdrop: 'static'}">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        Settings Changed
        <button class="close" aria-label="Close" (click)="hideSettingsModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Your settings have changed. Would you like to convert assessment data to match new settings?
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary pull-right" (click)="updateSettings(true)">Yes</button>
        <button class="btn btn-danger pull-left" (click)="updateSettings(false)">No keep data</button>
      </div>
    </div>
  </div>
</div>