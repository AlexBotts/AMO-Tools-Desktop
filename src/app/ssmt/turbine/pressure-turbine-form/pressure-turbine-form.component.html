<form [formGroup]="turbineForm">
  <label class="group-label w-100">
    <div class="form-group">
      <input type="checkbox" id="useTurbine" formControlName="useTurbine" (blur)="focusOut()" (focus)="focusField('useTurbine')">
      {{turbineTitle}}
    </div>
  </label>
  <div *ngIf="turbineForm.controls.useTurbine.value == true">
    <div class="form-group">
      <label for="isentropicEfficiency">Isentropic Efficiency</label>
      <div class="input-group">
        <input name="isentropicEfficiency" type="number" step="any" class="form-control" id="isentropicEfficiency"
          (input)="save()" [readonly]="!selected" formControlName="isentropicEfficiency" (focus)="focusField('isentropicEfficiency')"
          (blur)="focusOut()">
        <span class="units input-group-addon">%</span>
      </div>
    </div>

    <div class="form-group">
      <label for="generationEfficiency">Generation Efficiency</label>
      <div class="input-group">
        <input name="generationEfficiency" type="number" step="any" class="form-control" id="generationEfficiency"
          (input)="save()" [readonly]="!selected" formControlName="generationEfficiency" (focus)="focusField('generationEfficiency')"
          (blur)="focusOut()">
        <span class="units input-group-addon">%</span>
      </div>
    </div>

    <div class="form-group">
      <label for="operationType">Operation Type</label>
      <select name="operationType" class="form-control" id="operationType" (change)="save()" (focus)="focusField('operationType')"
        (blur)="focusOut()" formControlName="operationType">
        <option [ngValue]="'flowRange'">Flow Range</option>
        <option [ngValue]="'balanceHeader'">Balance Header</option>
        <option [ngValue]="'steamFlow'">Steam Flow</option>
        <option [ngValue]="'powerGeneration'">Power Generation</option>
        <option [ngValue]="'powerRange'">Power Range</option>
      </select>
    </div>

    <div class="form-group" *ngIf="turbineForm.controls.operationType.value != 'balanceHeader'">
      <label for="processSteamUsage">
        <span *ngIf="turbineForm.controls.operationType.value == 'flowRange'">Minimum Flow</span>
        <span *ngIf="turbineForm.controls.operationType.value == 'steamFlow'">Fixed Flow</span>
        <span *ngIf="turbineForm.controls.operationType.value == 'powerGeneration'">Fixed Power</span>
        <span *ngIf="turbineForm.controls.operationType.value == 'powerRange'">Minimum Power</span>
      </label>
      <div class="input-group">
        <input name="operationValue1" type="number" step="any" class="form-control" id="operationValue1" (input)="save()"
          [readonly]="!selected" formControlName="operationValue1" (focus)="focusField('operationValue1')" (blur)="focusOut()">
        <span class="units input-group-addon">
          <span *ngIf="turbineForm.controls.operationType.value == 'steamFlow' || turbineForm.controls.operationType.value == 'flowRange'">{{settings.steamMassFlowMeasurement}}</span>
          <span *ngIf="turbineForm.controls.operationType.value == 'powerGeneration' || turbineForm.controls.operationType.value == 'powerRange'">kW</span>
        </span>
      </div>
    </div>

    <div class="form-group" *ngIf="turbineForm.controls.operationType.value == 'flowRange' || turbineForm.controls.operationType.value == 'powerRange'">
      <label for="processSteamUsage">
        <span *ngIf="turbineForm.controls.operationType.value == 'flowRange'">Maximum Flow</span>
        <span *ngIf="turbineForm.controls.operationType.value == 'powerRange'">Maximum Power</span>
      </label>
      <div class="input-group">
        <input name="operationValue2" type="number" step="any" class="form-control" id="operationValue2" (input)="save()"
          [readonly]="!selected" formControlName="operationValue2" (focus)="focusField('operationValue2')" (blur)="focusOut()">
        <span class="units input-group-addon">
          <span *ngIf="turbineForm.controls.operationType.value == 'flowRange'">{{settings.steamMassFlowMeasurement}}</span>
          <span *ngIf="turbineForm.controls.operationType.value == 'powerRange'">kW</span>
        </span>
      </div>
    </div>
  </div>
</form>