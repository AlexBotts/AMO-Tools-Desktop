<app-condensate-handling-form [exploreModIndex]="exploreModIndex" [(ssmt)]="ssmt" [settings]="settings" (emitSave)="save()"
  [baselineHighPressureForm]="baselineHighPressureForm" [modificationHighPressureForm]="modificationHighPressureForm"
  [baselineMediumPressureForm]="baselineMediumPressureForm" [modificationMediumPressureForm]="modificationMediumPressureForm"
  [baselineLowPressureForm]="baselineLowPressureForm" [modificationLowPressureForm]="modificationLowPressureForm"></app-condensate-handling-form>

<!--HEAT LOSS-->
<div class="checkbox">
  <label class="group-label" for="adjustHeatLossPrecentages">
    <input type="checkbox" id="adjustHeatLossPrecentages" (focus)="focusField('default')" (change)="toggleHeatLoss()"
      [(ngModel)]="showHeatLoss" /> Adjust Heat Loss Percentages
  </label>
</div>

<ul *ngIf="showHeatLoss">
  <li class="explore-opps-item" >
    <div class="checkbox">
      <label for="modifyHighPressureHeatLoss">
        <input type="checkbox" id="modifyHighPressureHeatLoss" (focus)="focusField('heatLoss')" (change)="toggleHighPressureHeatLoss()"
          [(ngModel)]="showHighPressureHeatLoss" /> Adjust High Pressure Heat Loss
      </label>
    </div>
  </li>

  <li class="explore-opps-item" *ngIf="showHighPressureHeatLoss">
    <form class="explore-opps-form" [formGroup]="baselineHighPressureForm">
      <div class="text-center">
        <label for="baselineHPHeatLoss" class="baseline-value-label">Baseline Heat Loss</label>
        <div class="text-muted text-center baseline-value-input mt-1">{{baselineHighPressureForm.value.heatLoss }}% </div>

      </div>
    </form>
    <form class="explore-opps-form" [formGroup]="modificationHighPressureForm">
      <div class="form-group explore-opps-formgroup">
        <label for="modificationHPHeatLoss" class="mod-value-label">Modification Heat Loss</label>
        <div class="input-group">
          <input name="modificationHPHeatLoss" type="number" step="any" id="modificationHPHeatLoss" class="form-control"
            (focus)="focusField('heatLoss')" (input)="save()" formControlName="heatLoss" />
          <span class="input-group-addon units">%</span>
        </div>
        <span class="alert-danger pull-right small" *ngIf="modificationHighPressureForm.controls.heatLoss.invalid && !modificationHighPressureForm.controls.heatLoss.pristine">
          <span *ngIf="modificationHighPressureForm.controls.heatLoss.errors.required">Value Required</span>
          <span *ngIf="modificationHighPressureForm.controls.heatLoss.errors.max">Value can't be greater than
            {{modificationHighPressureForm.controls.heatLoss.errors.max.max}} %.</span>
          <span *ngIf="modificationHighPressureForm.controls.heatLoss.errors.min">Value can't be less than
            {{modificationHighPressureForm.controls.heatLoss.errors.min.min}} %.</span>
        </span>
      </div>
    </form>
  </li>
  <hr *ngIf="showHighPressureHeatLoss">

  <li class="explore-opps-item" *ngIf="ssmt.headerInput.numberOfHeaders == 3">
    <div class="checkbox">
      <label for="modifyMediumPressureHeatLoss">
        <input type="checkbox" id="modifyMediumPressureHeatLoss" (focus)="focusField('heatLoss')" (change)="toggleMediumPressureHeatLoss()"
          [(ngModel)]="showMediumPressureHeatLoss" /> Adjust Medium Pressure Heat Loss
      </label>
    </div>
  </li>

  <li class="explore-opps-item" *ngIf="showMediumPressureHeatLoss">
    <form class="explore-opps-form" [formGroup]="baselineMediumPressureForm">
      <div class="text-center">
        <label for="baselineMPHeatLoss" class="baseline-value-label">Baseline Heat Loss</label>
        <div class="text-muted text-center baseline-value-input mt-1">{{baselineMediumPressureForm.value.heatLoss }}% </div>

      </div>
    </form>
    <form class="explore-opps-form" [formGroup]="modificationMediumPressureForm">
      <div class="form-group explore explore-opps-formgroup">
        <label for="modificationMPHeatLoss" class="mod-value-label">Modification Heat Loss</label>
        <div class="input-group">
          <input name="modificationMPHeatLoss" type="number" step="any" id="modificationMPHeatLoss" class="form-control"
            (focus)="focusField('heatLoss')" (input)="save()" formControlName="heatLoss" />
          <span class="input-group-addon units">%</span>
        </div>
        <span class="alert-danger pull-right small" *ngIf="modificationMediumPressureForm.controls.heatLoss.invalid && !modificationMediumPressureForm.controls.heatLoss.pristine">
          <span *ngIf="modificationMediumPressureForm.controls.heatLoss.errors.required">Value Required</span>
          <span *ngIf="modificationMediumPressureForm.controls.heatLoss.errors.max">Value can't be greater than
            {{modificationMediumPressureForm.controls.heatLoss.errors.max.max}} %.</span>
          <span *ngIf="modificationMediumPressureForm.controls.heatLoss.errors.min">Value can't be less than
            {{modificationMediumPressureForm.controls.heatLoss.errors.min.min}} %.</span>
        </span>
      </div>
    </form>
  </li>
  <hr *ngIf="showMediumPressureHeatLoss">


  <li class="explore-opps-item" *ngIf="ssmt.headerInput.numberOfHeaders != 1">
    <div class="checkbox">
      <label for="modifyLowPressureHeatLoss">
        <input type="checkbox" id="modifyLowPressureHeatLoss" (focus)="focusField('heatLoss')" (change)="toggleLowPressureHeatLoss()"
          [(ngModel)]="showLowPressureHeatLoss" /> Adjust Low Pressure Heat Loss
      </label>
    </div>
  </li>

  <li class="explore-opps-item" *ngIf="showLowPressureHeatLoss">
    <form class="explore-opps-form" [formGroup]="baselineLowPressureForm">
      <div class="text-center">
        <label for="baselineLPHeatLoss" class="baseline-value-label">Baseline Heat Loss</label>
        <div class="text-muted text-center baseline-value-input mt-1">{{baselineLowPressureForm.value.heatLoss }}% </div>

      </div>
    </form>
    <form class="explore-opps-form" [formGroup]="modificationLowPressureForm">
      <div class="form-group explore-opps-formgroup">
        <label for="modificationLPHeatLoss" class="mod-value-label">Modification Heat Loss</label>
        <div class="input-group">
          <input name="modificationLPHeatLoss" type="number" step="any" id="modificationLPHeatLoss" class="form-control"
            (focus)="focusField('heatLoss')" (input)="save()" formControlName="heatLoss" />
          <span class="input-group-addon units">%</span>
        </div>
        <span class="alert-danger pull-right small" *ngIf="modificationLowPressureForm.controls.heatLoss.invalid && !modificationLowPressureForm.controls.heatLoss.pristine">
          <span *ngIf="modificationLowPressureForm.controls.heatLoss.errors.required">Value Required</span>
          <span *ngIf="modificationLowPressureForm.controls.heatLoss.errors.max">Value can't be greater than
            {{modificationLowPressureForm.controls.heatLoss.errors.max.max}} %.</span>
          <span *ngIf="modificationLowPressureForm.controls.heatLoss.errors.min">Value can't be less than
            {{modificationLowPressureForm.controls.heatLoss.errors.min.min}} %.</span>
        </span>
      </div>
    </form>
  </li>

</ul>

<!--STEAM USAGE-->
<div class="checkbox">
  <label class="group-label" for="adjustSteamUsage">
    <input type="checkbox" id="adjustSteamUsage" (focus)="focusField('default')" (change)="toggleSteamUsage()"
      [(ngModel)]="showSteamUsage" /> Adjust Steam Demand/Usage
  </label>
</div>
<ul *ngIf="showSteamUsage">

  <li class="explore-opps-item">
    <div class="checkbox">
      <label for="modifyHighPressureSteamUsage">
        <input type="checkbox" id="modifyHighPressureSteamUsage" (focus)="focusField('processSteamUsage')" (change)="toggleHighPressureSteamUsage()"
          [(ngModel)]="showHighPressureSteamUsage" /> Adjust High Pressure Steam Usage
      </label>
    </div>
  </li>

  <li class="explore-opps-item" *ngIf="showHighPressureSteamUsage">
    <form class="explore-opps-form" [formGroup]="baselineHighPressureForm">
      <div class="text-center">
        <label for="baselineHPSteamUsage" class="baseline-value-label">Baseline Steam Usage</label>
        <div class="text-muted baseline-value-input mt-1">{{ baselineHighPressureForm.value.processSteamUsage }} 
          <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span>
      </div>

      </div>
    </form>
    <form class="explore-opps-form" [formGroup]="modificationHighPressureForm">
      <div class="form-group explore-opps-formgroup">
        <label for="modificationHPSteamUsage" class="mod-value-label">Modification Steam Usage</label>
        <div class="input-group">
          <input name="modificationHPSteamUsage" type="number" step="any" id="modificationHPSteamUsage" class="form-control"
            (focus)="focusField('processSteamUsage')" (input)="save()" formControlName="processSteamUsage" />
          <span class="units input-group-addon" [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span>
        </div>
        <span class="alert-danger pull-right small" *ngIf="modificationHighPressureForm.controls.processSteamUsage.invalid && !modificationHighPressureForm.controls.processSteamUsage.pristine">
          <span *ngIf="modificationHighPressureForm.controls.processSteamUsage.errors.required">Value Required</span>
          <span *ngIf="modificationHighPressureForm.controls.processSteamUsage.errors.max">Value can't be greater than
            {{modificationHighPressureForm.controls.processSteamUsage.errors.max.max}}
            <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel"></span>.</span>
          <span *ngIf="modificationHighPressureForm.controls.processSteamUsage.errors.min">Value can't be less than
            {{modificationHighPressureForm.controls.processSteamUsage.errors.min.min}}
            <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel"></span>.</span>
        </span>
      </div>
    </form>
  </li>
  <hr *ngIf="showHighPressureSteamUsage">

  <li class="explore-opps-item" *ngIf="ssmt.headerInput.numberOfHeaders == 3">
    <div class="checkbox">
      <label for="modifyMediumPressureSteamUsage">
        <input type="checkbox" id="modifyMediumPressureSteamUsage" (focus)="focusField('processSteamUsage')" (change)="toggleMediumPressureSteamUsage()"
          [(ngModel)]="showMediumPressureSteamUsage" /> Adjust Medium Pressure Steam Usage
      </label>
    </div>
  </li>

  <li class="explore-opps-item" *ngIf="modificationMediumPressureForm.controls.useBaselineProcessSteamUsage.value == false">
    <form class="explore-opps-form" [formGroup]="baselineMediumPressureForm">
      <div class="text-center">
        <label for="baselineMPSteamUsage" class="baseline-value-label">Baseline Steam Usage</label>
        <div class="text-muted baseline-value-input mt-1">{{ baselineMediumPressureForm.value.processSteamUsage }} 
          <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span>
      </div>

      </div>
    </form>
    <form class="explore-opps-form" [formGroup]="modificationMediumPressureForm">
      <div class="form-group explore-opps-formgroup">
        <label for="modificationMPSteamUsage" class="mod-value-label">Modification Steam Usage</label>
        <div class="input-group">
          <input name="modificationMPSteamUsage" type="number" step="any" id="modificationMPSteamUsage" class="form-control"
            (focus)="focusField('processSteamUsage')" (input)="save()" formControlName="processSteamUsage" />
          <span class="units input-group-addon"><span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span></span>
        </div>
        <span class="alert-danger pull-right small" *ngIf="modificationMediumPressureForm.controls.processSteamUsage.invalid && !modificationMediumPressureForm.controls.processSteamUsage.pristine">
          <span *ngIf="modificationMediumPressureForm.controls.processSteamUsage.errors.required">Value Required</span>
          <span *ngIf="modificationMediumPressureForm.controls.processSteamUsage.errors.max">Value can't be greater
            than
            {{modificationMediumPressureForm.controls.processSteamUsage.errors.max.max}}
            <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span></span>
          <span *ngIf="modificationMediumPressureForm.controls.processSteamUsage.errors.min">Value can't be less than
            {{modificationMediumPressureForm.controls.processSteamUsage.errors.min.min}}
            <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span></span>
        </span>
      </div>
    </form>
  </li>
  <hr *ngIf="modificationMediumPressureForm.controls.useBaselineProcessSteamUsage.value == false">


  <li class="explore-opps-item" *ngIf="ssmt.headerInput.numberOfHeaders != 1">
    <div class="checkbox">
      <label for="modifyLowPressureSteamUsage">
        <input type="checkbox" id="modifyLowPressureSteamUsage" (focus)="focusField('processSteamUsage')" (change)="toggleLowPressureSteamUsage()"
          [(ngModel)]="showLowPressureSteamUsage" /> Adjust Low Pressure Steam Usage
      </label>
    </div>
  </li>

  <li class="explore-opps-item" *ngIf="modificationLowPressureForm.controls.useBaselineProcessSteamUsage.value == false">
    <form class="explore-opps-form" [formGroup]="baselineLowPressureForm">
      <div class="text-center">
        <label for="baselineLPSteamUsage" class="baseline-value-label">Baseline Steam Usage</label>
        <div class="text-muted baseline-value-input mt-1">{{ baselineLowPressureForm.value.processSteamUsage }} 
          <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span>
      </div>

      </div>
    </form>
    <form class="explore-opps-form" [formGroup]="modificationLowPressureForm">
      <div class="form-group explore-opps-formgroup">
        <label for="modificationLPSteamUsage" class="mod-value-label">Modification Steam Usage</label>
        <div class="input-group">
          <input name="modificationLPSteamUsage" type="number" step="any" id="modificationLPSteamUsage" class="form-control"
            (focus)="focusField('processSteamUsage')" (input)="save()" formControlName="processSteamUsage" />
          <span class="units input-group-addon"><span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span></span>
        </div>
        <span class="alert-danger pull-right small" *ngIf="modificationLowPressureForm.controls.processSteamUsage.invalid && !modificationLowPressureForm.controls.processSteamUsage.pristine">
          <span *ngIf="modificationLowPressureForm.controls.processSteamUsage.errors.required">Value Required</span>
          <span *ngIf="modificationLowPressureForm.controls.processSteamUsage.errors.max">Value can't be greater than
            {{modificationLowPressureForm.controls.processSteamUsage.errors.max.max}}
            <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span></span>
          <span *ngIf="modificationLowPressureForm.controls.processSteamUsage.errors.min">Value can't be less than
            {{modificationLowPressureForm.controls.processSteamUsage.errors.min.min}}
            <span [innerHTML]="settings.steamMassFlowMeasurement | settingsLabel:'/hr'"></span></span>
        </span>
      </div>
    </form>
  </li>

</ul>
