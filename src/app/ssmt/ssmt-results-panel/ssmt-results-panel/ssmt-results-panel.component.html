<div class="d-flex flex-column my-table" *ngIf="showResults" [ngClass]="{'modify-conditions-table': inModifyConditions}">
  <div class="d-flex stripe my-table-bg border-top-0">
    <div class="col-4">
    </div>
    <div
      class="text-center bold table-text d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      Baseline
    </div>
    <div class="col-4 text-center bold table-text d-flex justify-content-center align-items-center pl-1 pr-1">
      {{ssmt.modifications[modificationIndex].ssmt.name}}

    </div>
  </div>
  <div class="d-flex my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Percent Savings (%)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text"> &mdash; &mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center pl-1 pr-1">
      <app-percent-graph *ngIf="percentSavings && modValid" [value]="percentSavings" [valueDescription]="'Percent Savings'" [unit]="'%'"
        [title]="'ssmt-opportunities-savings'"></app-percent-graph>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Fuel Usage
        (<span [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)
      </span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.boilerFuelUsage | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.boilerFuelUsage | number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Fuel Cost ($K/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.boilerFuelCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.boilerFuelCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Electricity Usage
        (kW/yr)
      </span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.sitePowerImport * baselineInputs.operationsInput.operatingHoursPerYear
        | number:'1.0-1'}}</span>
        <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.sitePowerImport *
        modificationInputs.operationsInput.operatingHoursPerYear | number:'1.0-1'}}</span>
        <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Electricity Cost ($K/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.powerGenerationCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.powerGenerationCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Water Usage
        (<span [innerHTML]="settings.steamVolumeMeasurement | settingsLabel"></span>/yr)
      </span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.annualMakeupWaterFlow | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.annualMakeupWaterFlow | number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Water Cost ($K/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.makeupWaterCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.makeupWaterCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Power Generated (<span
          [innerHTML]="settings.steamPowerMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{ssmt.outputData.powerGenerated | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.powerGenerated | number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Process Use (<span
          [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{baselineLosses.allProcessUsageUsefulEnergy | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{modificationLosses.allProcessUsageUsefulEnergy | number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>
  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Stack Loss (<span
          [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{baselineLosses.stack | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{modificationLosses.stack |number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>

  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Vent Losses (<span
          [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{baselineLosses.totalVentLosses | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{modificationLosses.totalVentLosses |number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>

  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Unrecycled Condensate Losses (<span
          [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{baselineLosses.totalProcessLosses | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{modificationLosses.totalProcessLosses |number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>

  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Turbine Losses (<span
          [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{baselineLosses.totalTurbineLosses | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{modificationLosses.totalTurbineLosses |number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>

  <div class="d-flex stripe my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="table-text">Other Losses (<span
          [innerHTML]="settings.steamEnergyMeasurement | settingsLabel"></span>/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="table-text">{{baselineLosses.totalOtherLosses | number:'1.0-1'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span *ngIf="modValid" class="table-text">{{modificationLosses.totalOtherLosses |number:'1.0-1'}}</span>
      <span *ngIf="!modValid">&mdash;</span>
    </div>
  </div>


  <!-- <div class="d-flex stripe my-table-bg my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold table-text">Annual Energy (MWh)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold  table-text">{{baselineResults.annual_energy | number:'2.0-0'}}</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span class="bold table-text" *ngIf="modificationResults.annual_energy"
        [ngClass]="{'positive-savings': percentSavings > 10}">{{modificationResults.annual_energy
        | number:'2.0-0'}}</span>
      <span class="bold table-text" *ngIf="!modificationResults.annual_energy">&mdash;</span>
    </div>
  </div>

  <div class="d-flex my-table-bg my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold table-text">Annual Energy Savings (MWh)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold table-text">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span class="bold table-text" *ngIf="modificationResults.annual_energy"
        [ngClass]="{'positive-savings': percentSavings > 10}">{{getDiff(baselineResults.annual_energy,
        modificationResults.annual_energy) | number:'2.0-0'}}</span>
      <span class="bold table-text" *ngIf="!modificationResults.annual_energy">&mdash;</span>
    </div>
  </div> -->

  <div class="d-flex stripe my-table-bg my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold table-text">Annual Cost ($K/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span *ngIf="baselineValid" class="bold table-text">{{ssmt.outputData.totalOperatingCost / 1000 | currency:'USD'}}</span>
      <span *ngIf="!baselineValid">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span class="bold table-text" *ngIf="ssmt.modifications[this.modificationIndex].ssmt.outputData.totalOperatingCost && modValid"
        [ngClass]="{'positive-savings': percentSavings > 10}">{{ssmt.modifications[this.modificationIndex].ssmt.outputData.totalOperatingCost / 1000| currency:'USD'}}</span>
      <span class="bold table-text" *ngIf="!ssmt.modifications[this.modificationIndex].ssmt.outputData.totalOperatingCost || !modValid">&mdash;</span>
    </div>
  </div>

  <div class="d-flex my-table-bg my-table-item">
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold table-text">Annual Savings ($K/yr)</span>
    </div>
    <div class="d-flex justify-content-center align-items-center text-center pl-1 pr-1 col-4">
      <span class="bold table-text">&mdash;</span>
    </div>
    <div class="col-4 d-flex justify-content-center align-items-center text-center pl-1 pr-1">
      <span class="bold table-text" *ngIf="annualSavings && modValid" [ngClass]="{'positive-savings': percentSavings > 10}">
        {{annualSavings / 1000 | currency:'USD':'symbol':'2.0-0'}}</span>
      <span class="bold table-text" *ngIf="!annualSavings || !modValid">&mdash;</span>
    </div>
  </div>
</div>
<div class="p-3 text-center" *ngIf="(!modValid || !baselineValid) && showResults">
    <span *ngIf="!baselineValid" class="alert-danger mr-2 ml-2">Baseline Invalid</span>
    <span *ngIf="!modValid" class="alert-danger mr-2 ml-2">Modification Invalid</span>
</div>


<div class="d-flex flex-column justify-content-center align-items-center w-100 h-100" *ngIf="!showResults">
  <div class="spinner">
    <div class="bounce1"></div>
    <div class="bounce2"></div>
    <div class="bounce3"></div>
  </div>
  <h5>Calculating...</h5>
</div>