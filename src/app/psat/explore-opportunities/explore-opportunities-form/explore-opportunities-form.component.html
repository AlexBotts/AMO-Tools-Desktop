<div class="explore-opportunities">
  <h2>Select Potential Adjustment Projects</h2>
  <p>Select potential adjustment projects to explore opportunities to increase efficiency and the effectiveness of your system.</p>
  <ul>
    <li>
      <div class="checkbox">
        <label for="general"><input type ="checkbox" id="general" value="'true'" (focus)="focusField('systemData')" [(ngModel)]="showSystemData" />
								Adjust System Data
							</label>
      </div>
      <ul *ngIf="showSystemData">
        <li>
          <div class="checkbox">
            <label for="modifyCost"><input type ="checkbox" id="modifyCost" value="'true'" (focus)="focusField('modifyCost')" [(ngModel)]="showCost"/>
										Modify Cost
									</label>
          </div>
          <form *ngIf="showCost">
            <div class="form-group">
              <label for="initialCost">Initial Cost</label>
              <input name="initialCost" type="number" step="any" id="initialCost" class="form-control" (focus)="focusField('modifyCost')" (input)="calculate()"
                [(ngModel)]="psat.inputs.cost_kw_hour" [ngClass]="{'invalid': checkCost(1) == false}" />
              <span class="alert-danger pull-right small" *ngIf="costError1 !== null">{{costError1}}</span>
              <span class="units">$/kWH</span>
            </div>
            <div class="form-group">
              <label for="newCost">New Cost</label>
              <input name="newCost" type="number" step="any" id="newCost" class="form-control" (focus)="focusField('modifyCost')" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.cost_kw_hour"
                (input)="calculate()" [ngClass]="{'invalid': checkCost(2) == false}" />
              <span class="units">$/kWh</span>
              <span class="alert-danger pull-right small" *ngIf="costError2 !== null">{{costError2}}</span>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyFlowRate"><input type ="checkbox" id="modifyFlowRate" value="'true'" (focus)="focusField('flowRate')" [(ngModel)]="showFlowRate"/>
										Modify Flow Rate
									</label>
          </div>
          <form *ngIf="showFlowRate">
            <div class="form-group">
              <label for="initialFlowRate">Initial Flow Rate</label>
              <input name="initialFlowRate" type="number" step="any" id="initialFlowRate" class="form-control" (focus)="focusField('flowRate')" (input)="calculate()"
                [(ngModel)]="psat.inputs.flow_rate" [ngClass]="{'invalid': checkFlowRate(1) == false}" />
              <span class="units">{{settings.flowMeasurement}}</span>
              <span class="alert-danger pull-right small" *ngIf="flowRateError1 !== null">{{flowRateError1}}</span>
            </div>
            <div class="form-group">
              <label for="newFlowRate">New Flow Rate</label>
              <input name="newFlowRate" type="number" step="any" id="newFlowRate" class="form-control" (focus)="focusField('flowRate')" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.flow_rate"
                (input)="calculate()" [ngClass]="{'invalid': checkFlowRate(2) == false}" />
              <span class="units">{{settings.flowMeasurement}}</span>
              <span class="alert-danger pull-right small" *ngIf="flowRateError2 !== null">{{flowRateError2}}</span>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyHead"><input type ="checkbox" id="modifyHead" value="'true'" (focus)="focusField('head')" [(ngModel)]="showHead"/>
										Modify Head
									</label>
          </div>
          <form *ngIf="showHead">
            <div class="form-group">
              <label for="initialHead">Initial head</label>
              <input name="initialHead" type="number" step="any" id="initialHead" class="form-control" (focus)="focusField('head')" (input)="calculate()"
                [(ngModel)]="psat.inputs.head" />
              <span class="units">{{settings.distanceMeasurement}}</span>
            </div>
            <div class="form-group">
              <label for="newHead">New head</label>
              <input name="newHead" type="number" step="any" id="newHead" class="form-control" (focus)="focusField('head')" (input)="calculate()"
                [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.head" />
              <span class="units">{{settings.distanceMeasurement}}</span>
            </div>
          </form>
        </li>
      </ul>
    </li>
    <li>
      <div class="checkbox">
        <label for="general2"><input type ="checkbox" id="general2" value="'true'" (focus)="focusField('motorRatedData')"  [(ngModel)]="showRatedMotorData" />
								Adjust Rated Motor Data
							</label>
      </div>
      <ul *ngIf="showRatedMotorData">
        <li>
          <div class="checkbox">
            <label for="modifyMotorRatedPower"><input type ="checkbox" id="modifyMotorRatedPower" value="'true'" (focus)="focusField('motorRatedPower')" [(ngModel)]="showRatedMotorPower"/>
										Modify Rated Motor Power
									</label>
          </div>
          <form *ngIf="showRatedMotorPower">
            <div class="form-group">
              <label for="initialMotorRatedPower">Initial Rated Motor Power</label>
              <select name="initialMotorRatedPower" class="form-control number-input-field" id="initialMotorRatedPower" (focus)="focusField('motorRatedPower')"
                (change)="calculate()" [(ngModel)]="psat.inputs.motor_rated_power">
											<option  *ngFor="let option of options" [ngValue]="option">{{option}} {{settings.powerMeasurement}}</option>
										</select>
            </div>
            <div class="form-group">
              <label for="newMotorRatedPower">New Motor Rated Power</label>
              <select name="newMotorRatedPower" class="form-control number-input-field" id="newMotorRatedPower" (focus)="focusField('motorRatedPower')"
                (change)="calculate()" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.motor_rated_power">
											<option  *ngFor="let option2 of options" [ngValue]="option2">{{option2}} {{settings.powerMeasurement}}</option>
										</select>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyEfficiencyClass"><input type ="checkbox" id="modifyEfficiencyClass" value="'true'" (focus)="focusField('efficiencyClass')" [(ngModel)]="showEfficiencyClass"/>
										Modify Efficiency Class
									</label>
          </div>
          <form *ngIf="showEfficiencyClass">
            <div class="form-group">
              <label for="oldEfficiencyClass">Initial Efficiency Class</label>
              <select name="oldEfficiencyClass" class="form-control select-input-field" (change)="setEfficiencyClasses()" id="oldEfficiencyClass"
                (focus)="focusField('efficiencyClass')" [(ngModel)]="tmpInitialEfficiencyClass">
      										<option *ngFor="let efficiencyClass of efficiencyClasses" [ngValue]="efficiencyClass">{{efficiencyClass}}</option>
    									</select>
            </div>
            <div class="form-group">
              <label for="newEfficiencyClass">New Efficiency Class</label>
              <select name="newEfficiencyClass" class="form-control select-input-field" id="newEfficiencyClass" (change)="setEfficiencyClasses()"
                (focus)="focusField('efficiencyClass')" [(ngModel)]="tmpNewEfficiencyClass">
      										<option *ngFor="let efficiencyClass of efficiencyClasses" [ngValue]="efficiencyClass">{{efficiencyClass}}</option>
    									</select>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyMotorEfficiency"><input type ="checkbox" id="modifyMotorEfficiency" value="'true'" (focus)="focusField('motorEfficiency')" [(ngModel)]="showMotorEfficiency"/>
										Modify Motor Efficiency
									</label>
          </div>
          <form *ngIf="showMotorEfficiency">
            <div class="form-group">
              <label for="initialMotorEfficiency">Initial Motor Efficiency</label>
              <input name="initialMotorEfficiency" type="number" step="any" id="initialMotorEfficiency" class="form-control" (focus)="focusField('motorEfficiency')"
                (input)="calculate()" [(ngModel)]="psat.inputs.efficiency" [ngClass]="{'invalid': checkEfficiency(psat.inputs.efficiency, 1) == false}"
              />
              <span class="units">%</span>
              <span class="alert-danger pull-right small" *ngIf="efficiencyError1 !== null">{{efficiencyError1}}</span>
            </div>
            <div class="form-group">
              <label for="newMotorEfficiency">New Motor Efficiency</label>
              <input name="newMotorEfficiency" type="number" step="any" id="newMotorEfficiency" class="form-control" (focus)="focusField('motorEfficiency')"
                [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.efficiency" [ngClass]="{'invalid': checkEfficiency(psat.modifications[exploreModIndex].psat.inputs.efficiency, 2) == false}"
                (input)="calculate()" />
              <span class="units">%</span>
              <span class="alert-danger pull-right small" *ngIf="efficiencyError2 !== null">{{efficiencyError2}}</span>
            </div>
          </form>
        </li>
      </ul>
    </li>
    <li>
      <div class="checkbox">
        <label for="general3"><input type ="checkbox" id="general3" value="'true'" (focus)="focusField('pumpData')" [(ngModel)]="showPumpData" />
								Adjust Pump Data
							</label>
      </div>
      <ul *ngIf="showPumpData">
        <li>
          <div class="checkbox">
            <label for="modifyPumpSpeed"><input type="checkbox" id="modifyPumpSpeed" value="'true'" (focus)="focusField('pumpSpeed')" [(ngModel)]="showPumpSpeed"/>
										Modify Pump Speed
									</label>
          </div>
          <form *ngIf="showPumpSpeed">
            <div class="form-group">
              <label for="initialPumpSpeed">Initial Pump Speed</label>
              <input name="initialPumpSpeed" type="number" step="any" id="initialPumpSpeed" class="form-control" (input)="calculate()" (focus)="focusField('pumpSpeed')"
                [(ngModel)]="psat.inputs.pump_rated_speed" [ngClass]="{'invalid': checkPumpRpm(1) == false}" />
              <span class="units">rpm</span>
              <span class="alert-danger pull-right small" *ngIf="rpmError1 !== null">{{rpmError1}}</span>
            </div>
            <div class="form-group">
              <label for="newPumpSpeed">New Pump Speed</label>
              <input name="newPumpSpeed" type="number" step="any" id="newPumpSpeed" class="form-control" (input)="calculate()" (focus)="focusField('pumpSpeed')"
                [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.pump_rated_speed" [ngClass]="{'invalid': checkPumpRpm(2) == false}"
              />
              <span class="units">rpm</span>
              <span class="alert-danger pull-right small" *ngIf="rpmError2 !== null">{{rpmError2}}</span>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyPumpType"><input type="checkbox" id="modifyPumpType" value="'true'" (focus)="focusField('pumpType')" [(ngModel)]="showPumpType"/>
										Modify Pump Type
									</label>
          </div>
          <form *ngIf="showPumpType">
            <div class="form-group">
              <label for="initialPumpType">Initial Pump Type</label>
              <select class="form-control" name="pumpType" id="pumpType" (change)="setPumpTypes()" (focus)="focusField('pumpType')" [(ngModel)]="tmpInitialPumpType">
											<option *ngFor="let pumpType of pumpTypes" [ngValue]="pumpType">{{pumpType}}</option>
										</select>
            </div>
            <div class="form-group">
              <label for="newPumpType">New Pump Type</label>
              <select class="form-control" name="pumpType2" id="pumpType2" (change)="setPumpTypes()" (focus)="focusField('pumpType')" [(ngModel)]="tmpNewPumpType">
											<option *ngFor="let pumpType2 of pumpTypes" [ngValue]="pumpType2">{{pumpType2}}</option>
										</select>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyPumpSpecified"><input type="checkbox" id="modifyPumpSpecified" value="'true'" (focus)="focusField('pumpSpecified')" [(ngModel)]="showPumpSpecified"/>
										Modify Pump Specified Efficiency
									</label>
          </div>
          <form *ngIf="showPumpSpecified">
            <div class="form-group">
              <label for="initialPumpSpecified">Initial Pump Specified Efficiency</label>
              <input name="initialPumpSpecified" type="number" step="any" id="initialPumpSpecified" class="form-control" (focus)="focusField('pumpSpecified')"
                (input)="calculate()" [(ngModel)]="psat.inputs.pump_specified" [ngClass]="{'invalid': checkEfficiency(psat.inputs.pump_specified, 3) == false}"
              />
              <span class="units">%</span>
              <span class="alert-danger pull-right small" *ngIf="specifiedError1 !== null">{{specifiedError1}}</span>
            </div>
            <div class="form-group">
              <label for="newPumpSpecified">New Pump Specified Efficiency</label>
              <input name="newPumpSpecified" type="number" step="any" id="newPumpSpecified" class="form-control" (focus)="focusField('pumpSpecified')"
                (input)="calculate()" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.pump_specified" [ngClass]="{'invalid': checkEfficiency(psat.modifications[exploreModIndex].psat.inputs.pump_specified, 4) == false}"
              />
              <span class="units">%</span>
              <span class="alert-danger pull-right small" *ngIf="specifiedError2 !== null">{{specifiedError2}}</span>
            </div>
          </form>
        </li>
      </ul>
    </li>
  </ul>
</div>
