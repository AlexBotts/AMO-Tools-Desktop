<!-- <nav class="hide-print">
  <app-modify-conditions-tabs></app-modify-conditions-tabs>
</nav> -->

<div class="modify-conditions row psat" *ngIf="settings">

  <!-- Baseline -->
  <div class="scroll-item col-8" [ngStyle]="{'height.px': containerHeight}">
    <div class="row row-min-height">
      <div class="modification baseline panel-column col-6" (click)="togglePanel(baselineSelected)" [ngClass]="{'disabled': baselineSelected == false, 'modal-open': isModalOpen == true}">
        <div class="header">
          <h3>Baseline</h3>
        </div>
        <div class="losses-container psat-losses-container">
          <!--<app-system-basics *ngIf="modifyTab == 'system-basics'"></app-system-basics>-->
          <app-pump-fluid *ngIf="modifyTab == 'pump-fluid'" [selected]="baselineSelected" [(psat)]="psat" (saved)="save()" [settings]="settings"
            [baseline]="true"></app-pump-fluid>
          <app-motor *ngIf="modifyTab == 'motor'" [selected]="baselineSelected" [(psat)]="psat" (saved)="save()" [settings]="settings"
            [baseline]="true"></app-motor>
          <app-field-data *ngIf="modifyTab == 'field-data'" [selected]="baselineSelected" [(psat)]="psat" (saved)="save()" [settings]="settings"
            (saved)="save()" [settings]="settings" (openHeadTool)="modalOpen()" (closeHeadTool)="modalClose()" [baseline]="true"
            [assessment]="assessment"></app-field-data>
        </div>
      </div>


      <!-- Modifications Start -->
      <div class="modification panel-column col-6" (click)="togglePanel(modifiedSelected)" *ngIf="modificationExists" [ngClass]="{'disabled': modifiedSelected == false, 'modal-open': isModalOpen == true}">

        <!-- Modification Header -->
        <div class="header d-flex flex-row justify-content-between" *ngIf="!editModification">
          <h3 *ngIf="psat.modifications[modificationIndex]">{{psat.modifications[modificationIndex].psat.name}}</h3>
        </div>

        <!-- Forms -->
        <div class="losses-container psat-losses-container">

          <!-- Notes -->
          <!-- <app-modify-conditions-notes [(notes)]="psat.modifications[modificationIndex].notes" [currentTab]="modifyTab"></app-modify-conditions-notes> -->

          <!--<app-system-basics *ngIf="modifyTab == 'system-basics'"></app-system-basics>-->
          <app-pump-fluid *ngIf="modifyTab == 'pump-fluid'" [selected]="modifiedSelected" [(psat)]="psat.modifications[modificationIndex].psat"
            (saved)="save()" [settings]="settings" [modificationIndex]="modificationIndex"></app-pump-fluid>
          <app-motor *ngIf="modifyTab == 'motor'" [selected]="modifiedSelected" [(psat)]="psat.modifications[modificationIndex].psat"
            (saved)="save()" [settings]="settings" [modificationIndex]="modificationIndex"></app-motor>
          <app-field-data *ngIf="modifyTab == 'field-data'" [(psat)]="psat.modifications[modificationIndex].psat" [selected]="modifiedSelected"
            (saved)="save()" [settings]="settings" (openHeadTool)="modalOpen()" (closeHeadTool)="modalClose()" [assessment]="assessment"
            [modificationIndex]="modificationIndex"></app-field-data>

        </div>
      </div>
    </div>
  </div>
  <!-- No content message -->
  <div class="col-4 no-data" *ngIf="!modificationExists" (click)="addModification()">
    <h3>Now that you have setup your system and have baseline information, create duplicate baseline conditions to find efficiency
      opportunities.
    </h3>
    <button type="button" class="btn btn-primary">Add Modified Condition</button>
    <p>Data will be copied from your current baseline condition.</p>
  </div>

  <!-- Help Panel -->
  <div class="col-4 help-panel">
    <app-help-panel *ngIf="modificationExists" (emitSave)="save()" [psat]="psat" [settings]="settings" [(modification)]="psat.modifications[modificationIndex]"
      [modificationIndex]="modificationIndex" [containerHeight]="containerHeight"></app-help-panel>
    <div *ngIf="!modificationExists">
      <div class="header">
        <h3>Help</h3>
      </div>
      <p>Add Modification to view results</p>
    </div>
  </div>

</div>